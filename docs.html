<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Documentation</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav>
    <a href="index.html">Overview</a>
    <a href="docs.html" class="active">Documentation</a>
    <a href="credits.html">Credits</a>
  </nav>

  <main>
    <h1>Project Documentation</h1>
    <p>Install Ubuntu 

Download Ubuntu ISO https://ubuntu.com/download/desktop 

Configure a boot drive using a utility like Rufus 

Wipe servers clean by configuring RAID 10 

Use ctrl+h when prompted to open the web bios 

Select the configuration wizard 

Create a RAID 10 spanned drive group 

Assign two drives to span 0 and two drives to span 1 

Confirm the RAID configuration 

Load Ubuntu using the boot drive 

Follow steps to install Ubuntu using the default settings. Check the box to install additional drivers 

Reboot the server when finished 

Install OpenMPI 

sudo apt install openmpi-bin openmpi-common libopenmpi-dev 

Verify installation: 

mpirun --version 

Structure for host file: 

node1	slots=16 

node2 slots=16 

node3 slots=16 

 

Configure SSH 

Configure IP addresses: 

Connect each server to each other over Ethernet 

On each server, go to network settings 

Select manual IP configuration 

Assign each one an IP address on the same subnet 

Repeat these steps each time the servers are restarted 

Enable passwordless SSH: 

ssh-keygen -t rsa 

ssh-copy-id user@node2 

ssh-copy-id user@node3 

 

Configure NFS 

On the server: 

sudo apt install nfs-kernel-server –y 

sudo mkdir -p /srv/nfs_share 

sudo chown nobody:nogroup /srv/nfs_share 

sudo chmod 777 /srv/nfs_share 

sudo nano /etc/exports 

Add this line to the file: 

/srv/nfs_share 192.168.1.0/24(rw,sync,no_subtree_check) 

sudo exportfs –ra 

sudo exportfs –v 

sudo systemctl enable nfs-kernel-server 

sudo systemctl start nfs-kernel-server 

On each client: 

sudo apt install nfs-common –y 

sudo mkdir -p /mnt/nfs_share 

sudo mount -t nfs 192.168.1.1:/srv/nfs_share /mnt/nfs_share 

sudo nano /etc/fstab 

Add this line to the file: 

192.168.1.1:/srv/nfs_share /mnt/nfs_share nfs defaults 0 0 

sudo mount –a 

 

Install JtR Jumbo 

Follow these instructions: 

https://github.com/openwall/john/blob/bleeding-jumbo/doc/INSTALL 

However, this will not enable OpenMPI support. To do that, add the flag –enable-mpi flag to the ./configure command. More information can be found here: 

https://github.com/openwall/john/blob/bleeding-jumbo/doc/README.mpi 

 

Run JtR using OpenMPI 

Ensure Correct Pathing 

Each node needs JtR to be located in the same directory. This can be troublesome if the NFS share has a different path on the master node than the others. To solve this, create a directory on the master node to match the others, such as /mnt/nfs_share, and move all the files for JtR to that directory and run the program from there. 

 

Run JtR 

The following command will run JtR using OpenMPI. It specifies that it should use hosts.txt as the hosts file, hashes.txt as the list of passwords to crack, specifies MD5 as the format of the passwords and directs output to the shared.pot file, which is accessible on all systems. 

mpirun -hostfile hosts.txt ./john /mnt/nfs_share/hashes.txt --format=raw-md5 --pot=/mnt/nfs_share/shared.pot .</p>
  </main>
</body>
</html>
